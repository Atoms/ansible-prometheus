---
# defaults file for mesaguy.prometheus

# General global configuration
prometheus_go_version: 1.11.1
prometheus_link_etc: true
prometheus_link_etc_force: false
prometheus_purge_orphans: false
prometheus_root_dir: '/opt/prometheus'
prometheus_test_service_port: true

# If yes, perform a connection test from the server to the client
prometheus_software_server_side_connect_test: false

# Symlink tools (amtool, promtool, etc) to /usr/local/bin
prometheus_symlink_tools: true

# User management
prometheus_manage_group: true
prometheus_manage_user: true
prometheus_group: prometheus
prometheus_user: prometheus

# Firewall management
prometheus_manage_client_firewalld: false
prometheus_manage_client_iptables: false
prometheus_server_ips: []
prometheus_firewalld_zone: public

# When performing installations
prometheus_default_binary_unarchive_opts:
 - '--strip-components=1'
prometheus_default_src_unarchive_opts:
 - '--strip-components=1'
prometheus_fallback_to_build: false
prometheus_java_path: /usr/bin/java
prometheus_software_make_command: 'go get -d && go build'
prometheus_software_makefile_make_command: 'make'
prometheus_software_setup_pkg_mgrs:
 - 'Alpine'
 - 'Archlinux'
 - 'Gentoo'

# Base directories
prometheus_etc_dir: '{{ prometheus_root_dir }}/etc'
prometheus_exporters_dir: '{{ prometheus_root_dir }}/exporters'
prometheus_go_dir: '{{ prometheus_root_dir }}/go'
prometheus_log_dir: '/var/log/prometheus'
prometheus_tmp_dir: '{{ prometheus_root_dir }}/tmp'
prometheus_var_dir: '{{ prometheus_root_dir }}/var'

# Application directories
prometheus_tgroup_dir: '{{ prometheus_etc_dir }}/tgroups'
prometheus_tgroup_dir_purge_orphans: false
prometheus_tgroup_owner: '{{ prometheus_user }}'
prometheus_tgroup_group: '{{ prometheus_group }}'
prometheus_tgroup_mode: 0775
prometheus_tgroup_use_facts: false

# tgroup settings to be overridden on a node-by-node basis
prometheus_tgroup_labels: {}
prometheus_manage_client_tgroups: false
prometheus_manage_server_tgroups: false
prometheus_manage_server_tgroups_only: false
prometheus_managed_tgroup_dir: '{{ prometheus_tgroup_dir }}'

# Create a PID file when using systemd. This can be useful for kill -HUP
# scripts. However, older versions of systemd (ie: EL7) have a bug which causes
# daemons to occasionally crash on start/restart:
# https://bugzilla.redhat.com/show_bug.cgi?id=1226509
prometheus_systemd_pid: false

# When testing
prometheus_software_service_test: true
prometheus_always_build_from_source: false
