---
- name: Include task to setup additional exporters
  include_tasks: _setup_client_tgroup.yml
  with_items: '{{ prometheus_additional_exporters }}'
  vars:
    prometheus_software_name: '{{ additional_exporter.name }}'
    prometheus_software_port: '{{ additional_exporter.port }}'
    prometheus_tgroup_labels: '{{ prometheus_tgroup_labels | combine(additional_exporter.labels) }}'
    prometheus_software_tgroup_jobname: '{{ additional_exporter.name }}'
  loop_control:
    loop_var: additional_exporter
  when: prometheus_manage_client_tgroups and prometheus_additional_exporters is defined and prometheus_additional_exporters

# Firewall
